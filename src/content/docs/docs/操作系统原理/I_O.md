---
title : IO
sidebar : 
    order : 3
---
## 磁盘调度算法
常见的磁盘调度算法主要有 **FCFS、SSTF、SCAN 和 C-SCAN** 。

---

### FCFS（First Come First Serve，先来先服务）
原理：磁头按照请求的**到达顺序**进行处理，不考虑磁道之间的距离。

示例：

请求序列为：82, 170, 43, 140, 24, 16, 190  
磁头当前在50

处理顺序为：50 → 82 → 170 → 43 → 140 → 24 → 16 → 190

优点：

+ 实现简单，公平性好。
+ 无饥饿现象。

缺点：

+ 不考虑寻道优化，平均寻道时间可能很长。
+ 可能导致磁头来回大范围移动，效率低。

---

### SSTF（Shortest Seek Time First）
原理：每次选择距离当前磁头最近的请求，最小化当前寻道时间。

示例（起始在50）：

处理顺序：50 → 43 → 24 → 16 → 82 → 140 → 170 → 190

优点：

+ 平均寻道时间短，效率高。

缺点：

+ 存在饥饿现象（远处的请求可能一直得不到处理）。
+ 不公平。

---

### SCAN（电梯调度算法）
原理：磁头在一个方向上顺序移动，处理该方向上的请求，到达末端后改变方向。

示例（起始在50，向高磁道方向移动）：

处理顺序：50 → 82 → 140 → 170 → 190 → 43 → 24 → 16

优点：

+ 相对公平。
+ 不会饿死请求。
+ 平均寻道时间比FCFS好，性能稳定。

缺点：

+ 平均寻道时间可能不如SSTF。
+ 边缘磁道请求可能等待时间较长。

---

### C-SCAN（Circular SCAN）
原理：磁头只在一个方向上扫描并处理请求，到达末端后直接返回起点，不处理返回方向上的请求。

示例（起始在50，向上扫描）：

处理顺序：50 → 82 → 140 → 170 → 190 → 返回 → 16 → 24 → 43

优点：

+ 响应时间更均衡，适合实时系统。
+ 没有饥饿问题。

缺点：

+ 存在“空转”返回路径，不处理请求。
+ 实现略复杂。

---

### 四种算法对比总结表
| 特性 | FCFS | SSTF | SCAN | C-SCAN |
| --- | --- | --- | --- | --- |
| 处理顺序 | 按到达顺序 | 离当前磁头最近 | 当前方向顺序处理，来回扫描 | 当前方向顺序处理，循环返回 |
| 实现复杂度 | 最低 | 中等 | 稍高 | 稍高 |
| 平均寻道时间 | 高 | 最短（在理想情况下） | 中等 | 稍高于SCAN |
| 是否可能饥饿 | 否 | 是 | 否 | 否 |
| 是否公平 | 是 | 否 | 是 | 更公平 |
| 响应一致性 | 差 | 差 | 一般 | 好 |
| 空转情况 | 无 | 无 | 无 | 有 |
| 适合场景 | 任务不紧急、请求少 | 响应时间优先、请求密集 | 稳定性要求高的通用系统 | 实时或高公平性系统 |


---

### 柱面数计算
柱面数就是路径距离，例如从56号柱面移动到70号柱面，移动的柱面数就是14。

